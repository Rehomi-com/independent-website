此独立网站系统采用前后端分离设计。部署后，您可以通过 https://rehomi.com/ 查看项目，功能完全一致。完整功能结构如下图所示：
<p align="center">
  <a href="https://github.com/Rehomi-com/independent-website/blob/main/%E4%B8%AD%E6%96%87%E8%B5%84%E6%96%99.md">📖 中文</a> | <a href="https://github.com/Rehomi-com/independent-website/blob/main/README.md">📖 English</a>
</p>
# 独立网站系统功能

## PC版
- **页面**
  - 首页
  - 搜索
  - 详情页
  - 下单页
  - 结算
- **功能**
  - 邮件订阅
  - 询盘系统
  - 客服系统
  - 购物与结算
  - 支付网关
    - PayPal
    - USDT
    - 电汇
  - 新闻系统
  - 优惠券
    - 店铺优惠券
      - 领取时校验是否已领取过
    - 商品优惠券
  - SEO增强：GEO结构

## 移动版
- **页面**
  - 首页
  - 搜索
  - 详情页
  - 购物页
  - 下单页
  - 结算
  - 我的账户
- **功能**
  - 邮件订阅
  - 询盘系统
  - 客服系统
  - 购物与结算
  - 支付网关
    - PayPal
    - USDT
    - 电汇
  - 新闻系统
  - 优惠券
  - 订单管理
  - 账户设置
  - SEO增强：GEO结构

## 后端（管理端）
- **用户PC端**
  - 购物车
  - 询盘管理
  - 订阅管理
  - 订单管理
  - 评论管理
  - 优惠券
  - 账户设置
- **商品管理**
  - 发布商品
  - 管理商品
- **加入购物车管理**
- **询盘管理**
- **交易管理**
  - 订阅管理
  - 评论管理
  - 订单管理
- **公司信息**
- **商户后台**
  - 店铺管理
    - 首页Banner
    - 员工管理
    - ERP系统
  - 新闻管理
    - 文章管理
    - 分类管理
  - 营销管理
    - 优惠券
  - 客户管理
  - 设置
    - 账户设置


# 第一步：下载项目基础包与部署包。

根据服务器类型选择对应的基础包下载，然后下载完整部署包。

## Linux基础包
- **x86 芯片**: https://drive.google.com/file/d/1hswscioUr4pJgtZIvWwr5cuTR1vlQx5n/view?usp=sharing
- **arm64 芯片**: https://drive.google.com/file/d/1UlQjVExX149DWBFzuTteZQTMW_VGRVjx/view?usp=sharing

## Mac基础包
https://drive.google.com/file/d/1QgaQly3bcy9Xp52H8K4r0-EtkOoyR72l/view?usp=sharing

## Windows基础包
https://drive.google.com/file/d/1DhoMzZ_2NKgQlePckh0Uf3H2OlllLNYG/view?usp=sharing

![image](https://github.com/user-attachments/assets/b03ce5de-1553-4a62-9e02-d563fb68ba3d)

# 第二步：选择服务器

## 部署服务器 - 配置建议

| 操作系统 | 芯片 | 服务器 | 服务器数量 | 服务器配置建议 | 软件配置（可提供安装服务） | 支持云商 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| Linux/Windows<br>推荐 openEuler 22.03<br>支持国产麒麟系统 | x86<br>支持 ARM | 支持 Docker+K8S<br>私有服务器<br>云服务器 | 1台服务器或1个Docker镜像 | CPU ≥ 2核<br>内存 ≥ 4 GB | MySQL 5.7 及以上<br>Redis 4.0 及以上 | 阿里云<br>华为云<br>腾讯云<br>AWS<br>Azure |

## 以下为非必需中间件组件，根据需要配置。

| 类型 | 支持范围 | 生产环境 |
| :--- | :--- | :--- |
| 文件存储 | 阿里云 OSS<br>腾讯云 COS<br>Amazon S3<br>Microsoft Azure Blob Storage<br>Minio, 华为云 OBS | 建议增加1个 |
| CDN | 阿里云 CDN<br>腾讯云 CDN等 | 建议增加1个 |

# 第三步：实战部署

在部署之前，请先准备一个域名（网址），以便后续使用。

## 1. 安装MySQL和Redis

MySQL和Redis是IVX应用运行所依赖的两个底层数据库。对于大型商业应用，我们强烈建议使用云托管的MySQL和Redis服务，例如阿里云的RDS和云数据库Redis版。我们将在后续章节详细讲解集成方法。此处，出于便捷性和部署成本的考虑，我们将把MySQL和Redis安装在服务器本地。注意：MariaDB可以作为MySQL的替代品，两者本质上等效。

**所需最低软件版本：**
- MySQL：5.7.9
- Redis：2.8

在CentOS上，可以使用yum命令直接安装这两个软件包。如果遇到问题，可以上网搜索详细的安装步骤。

## 2. 创建目录并上传程序文件

### *SSH登录服务器*
我们推荐使用SSH登录您的Linux实例。登录前，必须知道服务器的管理员用户名和密码。

在终端中，输入并执行以下命令来连接Linux服务器：
```bash
ssh <username>@<hostname or IP address>
```
- `username` 是您在前提条件中获得的默认账户。
- `hostname or IP address` 是您的Linux实例的公网IP或自定义域名。

**不同本地操作系统的说明：**
- 如果您的本地计算机运行的是Mac OS，请先打开内置的"终端"应用，然后再执行命令。
- 如果您的本地计算机运行的是Linux，您可以直接执行命令。
- 如果您的本地计算机运行的是Windows 10或Windows Server 2019，请先打开命令提示符（CMD），然后再执行命令。

输入获得的密码，按回车键完成登录。

![image](https://github.com/user-attachments/assets/14bec44c-bfc1-4c38-b918-ce8ad18670c9)

成功登录后，您会注意到终端前缀从您的桌面名称变为了云服务器的名称。

您可以输入以下命令查看当前目录下的文件：
```bash
ls
```
![image](https://github.com/user-attachments/assets/8518ddd2-de22-4797-9cbf-2fdf7ec94eeb)

由于这是一台全新的服务器，目前此目录下没有文件。
Linux系统报告错误但不报告成功；因此，如果没有显示错误，则说明命令已正确执行。

### *新建目录*
为便于管理，在服务器当前路径下创建一个名为`testA`的目录，在终端中输入以下命令：
```bash
mkdir testA
```
![image](https://github.com/user-attachments/assets/2c09a1f7-1932-4e21-8cdd-f8869e3e19ad)

### *上传已下载的基础包和初始化包*
![image](https://github.com/user-attachments/assets/ad538cfc-5ac5-4349-92c5-fcd37b6ca2a1)

### *使用scp将两个文件上传到新建的文件夹。*
要将文件上传到服务器，请打开一个新的终端窗口，输入以下命令将文件上传到服务器：
```bash
scp <filepath> <username>@<IP address>:<path/>
```
将`<文件路径>`替换为您要上传的文件的路径。确保路径中不含中文。您也可以直接将文件拖入终端来解决路径问题。若要同时上传多个文件，请用空格分隔它们。
`<username>@<IP address>:<path/>`指定您的Linux实例的公网IP和目标目录。

以下是示例中的输入。按回车键后，文件将上传到指定目录。
![image](https://github.com/user-attachments/assets/b4f75ce6-75f7-407b-b1b8-a28bb5bfe0cf)

### *服务器窗口：进入新建的文件夹*
切换回之前的终端，输入以下命令切换到`testA`目录：
```bash
cd testA/
```
然后输入`ls`查看此路径下的文件。您会发现基础部署包和应用部署包都已成功上传。
![image](https://github.com/user-attachments/assets/0b9a05db-d41e-450c-9741-cb37abc5c0ca)

### *将ivxbase设置为可执行文件*
接下来，在此路径下，输入以下命令使`ivxbase`成为可执行文件：
```bash
chmod +x ivxbase
```
当您再次使用`ls`时，您会看到ivxbase被高亮显示为绿色，表示成功。
![image](https://github.com/user-attachments/assets/3b97dc72-7c20-4b32-8f81-fbb351988fae)

## 3. 初始化ivxbase

### *运行ivxbase*
接下来，在当前目录下输入以下命令来运行`ivxbase`：
```bash
./ivxbase
```
![image](https://github.com/user-attachments/assets/a3d074cf-e5e9-45f8-920f-23b5623968b0)

### *开始填写配置项*
**注意：** 这些设置将被保存在配置文件中，因此如果填写错误也不必惊慌——您稍后可以修改配置文件。

*   **输入端口号。**
    **注意：** 由于后续需要配置Nginx或负载均衡器，请避免使用80端口。选择一个其他自定义端口，例如9966。
    ![image](https://github.com/user-attachments/assets/3ff8573d-2fdc-4195-8dbe-bedd84ceffc8)

*   **输入Redis地址和用户。**
    对于单机部署，使用本地安装的Redis。使用所有默认选项，按回车即可。
    ![image](https://github.com/user-attachments/assets/f08d1c2d-f703-4de6-990b-10935f04a4ec)

*   **输入MySQL地址、用户和密码。**
    对于单机部署，使用本地安装的MySQL/MariaDB。正确输入用户名和密码。对于数据库，您可以使用默认的`h5work`或指定自己的。输入任何您能记住的英文名称。
    ![image](https://github.com/user-attachments/assets/3d182b30-02a4-498a-9592-15a35708b64a)

    **注意：** 本演示使用的是阿里云RDS数据库。如果使用本地安装的MySQL，地址栏保持默认即可。

*   **命令运行后，命令行中会打印出应用路径，表示部署成功。**
    现在您可以通过 IP地址 + 端口 访问演示。
    **注意：** 当自定义路径时，应用在导出时将保留此自定义路径。
    ![image](https://github.com/user-attachments/assets/612b664b-a9c0-4275-bdbc-ad9fcd1dd779)

使用 `IP:端口/路径` 访问演示（其中 `路径` 是成功导入后 `path:` 后面指定的目录）。
示例：`http://39.104.21.197:9966/play/n11fB3WO`

在终端中按 `Ctrl+C` 可以停止演示进程。
